# Проект антифрод-системы 

## 1. Сбор и синтез требований

| Параметр                          | Значение                                | Источник (страница/файл) |
|-----------------------------------|-----------------------------------------|---------------------------|
| Бюджет проекта                    |10 млн. рублей| 1я страница задания|
| Сроки реализации                  |6 месяцев, но нужны предварительные результаты через 3 месяца|  1я страница                          |
| Целевой уровень пропускной способности (TPS) | 50, но с пиками до 400| 1я страница                          |
| Допустимый уровень ложных срабатываний (FP) | не более 5%| 2я страница                           |
| Максимальный % мошенничества      | 2%|   1я стр                         |
| Ограничения инфраструкты        | Заказчик не предоставляет собственных вычислительных ресурсов, необходимо контейнеризовать решение и разворачивать в облачной среде. | стр.2 |
| Другие ключевые требования        | При проведении транзакции система сохраняет информацию в CSV-файлах; данные конфиденциальны, утечка недопустима.                               | стр.2 |
| Другие ключевые требования       | Припроведении транзакции системой вся информация о ней сохраняется в виде csv-файлов, каждая строка которых соответствует одной транзакции. Информация о транзакциях некоторого фиксированного периода помещается в отдельный файл. Файлы с данными содержат всю информацию о транзакциях, включая данные клиента, который ее проводил. Данная информация является конфиденциальной, ее утечка недопустима.  | стр.2 |

## 2. Формулировка бизнес-целей

Опишите 2–3 ключевые цели проекта в формате «кто–что–чтобы»:

1. **Цель 1:** Наша команда выявляет мошеннические транзакции с полнотой (TPR) ≥ 95% и долей ложных срабатываний (FPR) ≤ 5%, чтобы снизить финансовые потери клиентов до уровня не более 500 тыс. руб. в месяц (конкурентный уровень). Пропускная 
2. **Цель 2:** Обеспечить обработку транзакций в реальном времени с пропускной способность до 400 транзакций в секунду (TPS) даже в пиковые периоды, чтобы не допустить задержек и сохранить уровень качества обслуживания.
3. **(Опционально) Цель 3:** Минимизировать время вывода первоначальных результатов — показать первые метрики модели через 3 месяца для принятия решения о продолжении проекта.


---

## 3. Выбор ML-метрики

1. **Кандидаты метрик:**
   - ROC-AUC
   - Precision@Recall (при фиксированном пороге)
   - PR-AUC
   - F1-score

2. **Выбор основной метрики:**
   - **ROC-AUC**, поскольку она отражает компромисс между полнотой (TPR) и долей ложных срабатываний (FPR) и не зависит от конкретного порога, что критично для контроля уровня оттока клиентов при FPR ≤ 5% и для сравнительного анализа с конкурентами. 


---

## 4. Mission Canvas

Заполните блоки Mission Canvas на основе собранных данных:

| Блок                  | Содержание                                                                                                                 |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------|
| **Mission (Задача)**  | Разработать и внедрить в IT-инфраструктуру банку модуль ML для обнаружения мошеннических транзакций в реальном времени.      |
| **Actor (Участники)** | Data Scientists, DevOps-инженеры, IT-архитекторы, бизнес-аналитики, команда безопасности, конечные пользователи (клиенты).    |
| **Needs (Потребности)**| Снижение убытков от мошеннических операций, соблюдение SLA по времени обработки и уровню ошибок, защита конфиденциальных данных. |
| **Insights (Инсайты)**| Конкуренты фиксируют не более 2 мошенничеств на 100 транзакций и убытки ≤500 тыс. руб. в месяц; FP не должны превышать 5%; пики до 400 TPS.      |
| **Solution (Решение)**| Пайплайн: CSV-инжест → предобработка и фичеринжиниринг → обученная модель (scikit-learn/LightGBM) → микросервис (Docker, Kubernetes). |
| **Obstacles (Риски)** | Конфиденциальность данных (утечка недопустима), отсутствие собственных вычислительных ресурсов у заказчика, высокие пики нагрузки.  |
| **Measures (KPI)**    | TPR ≥ 95%, FPR ≤ 5%, ROC-AUC ≥ 0.98, latency ≤ 100 ms, throughput ≥ 400 TPS.                                                     |
| **Tools/Stack**       | Python, scikit-learn, LightGBM, Docker, Kubernetes, GitHub, CI/CD, Prometheus + Grafana.                                    |
| **Budget & Time**     | 10 млн руб., предварительные результаты за 3 мес, окончательный релиз за 6 мес.                             |



---

## 5. Декомпозиция системы на функциональные блоки

Определим ключевые модули и их взаимодействие:

- **Инжест данных**: получение и валидация CSV-файлов с транзакциями, загрузка в хранилище.
- **Предобработка и фичеринжиниринг**: очистка данных, обработка пропусков, генерация и нормализация признаков.
- **Обучение и валидация модели**: настройка экспериментов (cross-validation), тренировка LightGBM/скейл-аппинг, сохранение лучших артефактов.
- **Сервис реального времени (Inference)**: REST API для онлайновой проверки транзакций, контейнеризация (Docker) и оркестрация (Kubernetes).
- **Мониторинг и логирование**: сбор метрик производительности и качества (Prometheus + Grafana), централизованное логирование.
- **Детекция дрейфа данных и обновление модели**: периодический анализ показателей распределения фич, запуск retraining pipeline при дрейфе.
- **Безопасность и управление доступом**: шифрование данных в покое и в пути, аутентификация сервисов, контроль прав доступа.

## 6. 
